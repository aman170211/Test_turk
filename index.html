<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MTurk Task Submission</title>

    <script src="https://s3.amazonaws.com/mturk-public/externalHIT_v1.js"></script>

    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
        }
        .center-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 60vh;
        }
        .big-button {
            font-size: 20px;
            padding: 15px 30px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            text-decoration: none;
            margin-bottom: 20px;
        }
        .big-button:hover {
            background-color: #0056b3;
        }
        .input-box {
            font-size: 18px;
            padding: 10px;
            width: 50%;
            text-align: center;
            margin-bottom: 15px;
        }
        .submit-button {
            font-size: 20px;
            padding: 12px 25px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
        }
        .submit-button:hover {
            background-color: #218838;
        }
    </style>
</head>
<body>

    <div class="center-container">
        <h2>Complete the Task</h2>

        <!-- Button to open the task in a new tab -->
        <a href="https://your-task-url.com" target="_blank" class="big-button">
            ðŸ”— Open Task
        </a>

        <!-- Form for MTurk submission -->
        <form id="mturk_form" name="mturk_form" method="post" action="https://workersandbox.mturk.com/mturk/externalSubmit">
            <!-- Hidden fields for assignmentId and workerId -->
            <input type="hidden" name="assignmentId" id="assignmentId" value="">
            <input type="hidden" name="workerId" id="workerId" value="">

            <p><strong>Enter your code here:</strong></p>
            <input type="text" name="answer" class="input-box" required>

            <br><br>
            <input type="submit" class="submit-button" value="Submit">
        </form>
    </div>

    <script>
        // Function to set the assignmentId and workerId dynamically
        function setMTurkParameters() {
            var urlParams = new URLSearchParams(window.location.search);
            var assignmentId = urlParams.get('assignmentId');
            var workerId = urlParams.get('workerId');

            if (assignmentId) {
                document.getElementById('assignmentId').value = assignmentId;
            }
            if (workerId) {
                document.getElementById('workerId').value = workerId;
            }
        }

        // Run function on page load
        setMTurkParameters();
    </script>

</body>
</html>
